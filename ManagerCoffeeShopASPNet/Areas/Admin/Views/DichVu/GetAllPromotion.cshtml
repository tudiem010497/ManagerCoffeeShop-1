@model IEnumerable<Promotion>

@using NonFactors.Mvc.Grid

@{
    ViewBag.Title = "GetAllPromotion";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}

<h2>GetAllPromotion</h2>
<div class="row">
    <div class="col-sm-6">@Html.ActionLink("Add Promotion", "GetFormAddNewPromotion", "DichVu", new { @class = "btn btn-primary" })</div>
    <div class="col-sm-6">
        @using (Html.BeginForm("DichVu", "GetAllPromotion", FormMethod.Get))
        {
            @Html.TextBox("Search")
            <button type="submit">Search</button>
        }
    </div>
   
</div>
<div>
    @*<table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.StartDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.EndDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Desc)
            </th>
            <th>Action</th>
        </tr>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.StartDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.EndDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Desc)
                </td>
                <td>
                    @Html.ActionLink("Edit", "EditPromotion", "DichVu", new { PromotionID = item.PromotionID }, new { @class = "btn btn-primary" })
                </td>
            </tr>
        }
    </table>*@
    @(Html
        .Grid(Model)
        .Build(column =>
        {
            column.Add(m => m.Name).Titled("Name").Sortable(false);
            column.Add(m => m.StartDate).Titled("StartDate");
            column.Add(m => m.EndDate).Titled("EndDate");
            column.Add(m => m.Desc).Titled("Desc").Filterable(false);
            column.Add(m => m.PromotionID).Encoded(false).RenderedAs(m => (
                @Html.ActionLink("Edit", "EditPromotion", "DichVu", new { PromotionID = m.PromotionID }, new { @class = "btn btn-primary" }).ToHtmlString()
            )).Filterable(false).Sortable(false).Titled("Action");
        })
        .WithFilterMode(GridFilterMode.FilterRow)
        .Sortable()
        .Empty("Data is empty")
        .Filterable()
    )
</div>

